!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.vectag=i():t.vectag=i()}(window,(function(){return function(t){var i={};function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(n,r,function(i){return t[i]}.bind(null,r));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="build/",e(e.s=0)}([function(t,i,e){t.exports=e(1)},function(t,i,e){"use strict";e.r(i),e.d(i,"objToArray",(function(){return n})),e.d(i,"removeFromArray",(function(){return r})),e.d(i,"Grid",(function(){return o})),e.d(i,"CanvasPlus",(function(){return s})),e.d(i,"planets",(function(){return l})),e.d(i,"gameOfLife",(function(){return p}));var n=function(t){var i=[];for(var e in t)t.hasOwnProperty(e)&&i.push(t[e]);return i},r=function(t,i){var e=t.indexOf(i);e>-1?t.splice(e,1):console.log("Impossible to remove element not present in array.")},o=function(t,i,e){this.res=e,this.lengthX=Math.floor(t/e+1),this.lengthY=Math.floor(i/e+1),this.cells=[];for(var n=0;n<this.lengthX;n++){this.cells[n]=[];for(var r=0;r<this.lengthY;r++)this.cells[n][r]=[]}};o.prototype.get=function(t,i,e,n){for(var r=[],o=Math.floor(t/this.res);o<Math.floor(e/this.res+1);o++)if(!(o<0||o>=this.lengthX))for(var s=Math.floor(i/this.res);s<Math.floor(n/this.res+1);s++)s<0||s>=this.lengthY||r.push.apply(r,this.cells[o][s]);return r},o.prototype.add=function(t,i,e){return this.cells[Math.floor(i/this.res)][Math.floor(e/this.res)].push(t)},o.prototype.remove=function(t,i,e){r(this.cells[Math.floor(i/this.res)][Math.floor(e/this.res)],t)};var s=function(t,i,e){var n=document.getElementById(t).getContext("2d");i&&(n.canvas.width=i),e&&(n.canvas.height=e),this.getContext2D=function(){return n},this.redraw=function(){return console.log("Override redraw method"),this}},h=function(t,i,e,n,r,o){this.u=t,this.m=i;var s=this.r();this.x=0,e<s?this.x=s:e>t.w-s?this.x=t.w-s:this.x=e,this.y=0,n<s?this.y=s:n>t.h-s?this.y=t.h-s:this.y=n,this.vx=r,this.vy=o};h.prototype.observe=function(){this.fx=0,this.fy=0;for(var t=0;t<this.u.ps.length;t++){var i=this.u.ps[t];if(this!=i){var e=this.d(i);e*=e*e,this.fx+=.01*(i.x-this.x)*this.m*i.m/e,this.fy+=.01*(i.y-this.y)*this.m*i.m/e}}},h.prototype.d=function(t){var i=t.x-this.x,e=t.y-this.y;return Math.sqrt(i*i+e*e)},h.prototype.r=function(){return Math.sqrt(this.m/Math.PI)},h.prototype.change=function(){var t=this.fx/this.m,i=this.fy/this.m;this.vx+=t*this.u.timeStepMs,this.vy+=i*this.u.timeStepMs,this.x+=this.vx*this.u.timeStepMs,this.y+=this.vy*this.u.timeStepMs,this.x<0&&(this.x=this.u.w),this.y<0&&(this.y=this.u.h),this.x>this.u.w&&(this.x=0),this.y>this.u.h&&(this.y=0)};var a=function(t,i,e){this.w=t,this.h=i,this.timeStepMs=e,this.ps=[]};a.prototype.fillRandomly=function(t,i,e,n){this.ps=[];for(var r=0;r<t;r++){var o=e+Math.random()*(n-e),s=2*Math.random()*Math.PI;this.ps.push(new h(this,i,this.w*Math.random(),this.h*Math.random(),o*Math.cos(s),o*Math.sin(s)))}return this},a.prototype.step=function(){var t;for(t=0;t<this.ps.length;t++)this.ps[t].observe();for(t=0;t<this.ps.length;t++)this.ps[t].change();for(var i=this.findCollision();null!==i;)this.ps.push(this.aggregate(i)),r(this.ps,i[0]),r(this.ps,i[1]),i=this.findCollision()},a.prototype.findCollision=function(){for(var t=0;t<this.ps.length;t++)for(var i=this.ps[t],e=t+1;e<this.ps.length;e++){var n=this.ps[e];if(!(i.d(n)>i.r()+n.r()))return[i,n]}return null},a.prototype.aggregate=function(t){var i=t[0],e=t[1],n=i.m+e.m;return new h(this,n,(i.x*i.m+e.x*e.m)/n,(i.y*i.m+e.y*e.m)/n,(i.vx*i.m+e.vx*e.m)/n,(i.vy*i.m+e.vy*e.m)/n)},a.prototype.start=function(t,i){var e=0,n=this;return function r(){n.step(),i.redraw(),t>0&&e++>t||setTimeout(r,0)}(),this};var l=function(t,i){var e=document.getElementById(t),n=e.offsetWidth,r=e.offsetHeight,o=new a(n,r,10).fillRandomly(1e3,.5,0,.1),h=new s(i,n,r),l=h.getContext2D();l.fillStyle="#000000",l.fillRect(0,0,n,r),h.redraw=function(){l.fillStyle="rgba(0,0,0,0.05)",l.fillRect(0,0,n,r);for(var t=0;t<o.ps.length;t++){var i=o.ps[t],e=i.m/500;l.fillStyle="rgb(255,255,"+Math.floor(255*(1-e))+")",l.beginPath(),l.arc(i.x,i.y,i.r(),0,2*Math.PI),l.closePath(),l.fill()}l.fillStyle="rgb(200,200,200)",l.fillRect(0,0,65,13),l.fillStyle="rgb(0,0,0)",l.fillText(o.ps.length+" planets",2,10)},o.start(-1,h)},u=function(t,i){this.w=t,this.h=i,this.population=[],this.populationI={},this.add=function(t,i){var e=t+"_"+i,n=this.populationI[e];return n?null:(n={x:t,y:i,nb:0},this.population.push(n),this.populationI[e]=n,n)},this.fillRandomly=function(t){for(var i=0,e=this.w*this.h*t;i<e;){var n=Math.round(this.w*Math.random()),r=Math.round(this.h*Math.random());this.add(n,r)&&i++}return this},this.step=function(){var t,i,e,r,o,s,h,a={};for(t=0;t<this.population.length;t++){var l=f(this.population[t],this);for(i=0;i<l.length;i++)(s=a[h=(o=l[i]).x+"_"+o.y])?s.nb++:(o.nb=1,a[h]=o)}var u=[],p={};for(t=0;t<this.population.length;t++)(r=a[h=(e=this.population[t]).x+"_"+e.y])&&(r.nb<2||r.nb>3||(u.push(e),p[h]=e));this.population=u,this.populationI=p;var c=n(a);for(a=null,t=0;t<c.length;t++)3===(o=c[t]).nb&&(h=o.x+"_"+o.y,(e=this.populationI[h])||(this.population.push(o),this.populationI[h]=o));return this},this.start=function(t,i,e){var n=0,r=this;return function o(){r.step(),e.redraw(),t>0&&n++>t||setTimeout(o,i)}(),this}},f=function(t,i){var e=0===t.x?i.w-1:t.x-1,n=t.x===i.w-1?0:t.x+1,r=0===t.y?i.h-1:t.y-1,o=t.y===i.h-1?0:t.y+1;return[{x:e,y:r},{x:e,y:t.y},{x:e,y:o},{x:t.x,y:r},{x:t.x,y:o},{x:n,y:r},{x:n,y:t.y},{x:n,y:o}]},p=function(t,i){var e=document.getElementById(t),n=e.offsetWidth,r=e.offsetHeight,o=new u(n,r).fillRandomly(.05),h=new s(i,n,r);h.redraw=function(){var t=this.getContext2D();t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#0000FF";for(var i=0;i<o.population.length;i++){var e=o.population[i];t.fillRect(e.x,e.y,1,1)}},o.start(-1,0,h)}}])}));